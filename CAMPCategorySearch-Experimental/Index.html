<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:title" content="Fallout 76 C.A.M.P. Item Lookup">
<meta property="og:description" content="Tool for finding the location of Fallout 76 C.A.M.P. items in the building menu">
<meta property="og:image" content="https://raw.githubusercontent.com/MrsBlobby/mrsblobby.github.io/refs/heads/main/assets/CAMPIcon2.png">
<meta property="og:url" content="https://yourdomain.com/">
<meta property="og:type" content="website">
<link rel="icon" type="image/svg" href="/assets/svg/CAMPIcon.svg">
<title>Fallout 76 C.A.M.P. Item Lookup</title>

<style>
:root {
    --accent: #ffc00f;
    --accent-dim: #ffb300;
    --bg: #1a1a1a;
    --card-bg: #2a2a2a;
    --text: #e0e0e0;
    --text-muted: #aaa;
    --content-width: 800px;
    --card-width: 720px;
}
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background-color: var(--bg);
    color: var(--text);
}
.container {
    max-width: var(--content-width);
    margin: 0 auto;
    padding: 0 16px;
}
h1 {
    color: var(--accent);
    margin-bottom: 5px;
    text-align: center;
}
.meta {
    text-align: center;
    margin-bottom: 12px;
}
#pagination button {
    padding: 6px 10px;
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--accent);
    border-radius: 4px;
    cursor: pointer;
    transition: 0.2s;
}
#pagination button:hover:not(:disabled) {
    background: var(--accent);
    color: black;
}
#pagination button:disabled {
    opacity: 0.4;
    cursor: default;
}
select {
    appearance: none;
    background-color: var(--card-bg);
    border: 2px solid var(--accent);
    border-radius: 6px;
    color: var(--text);
    padding: 8px 12px;
    font-size: 14px;
    cursor: pointer;
}
#searchBy {
    position: relative;
    padding-left: 10px;
    color: var(--text);
}
#searchBy[data-label] option {
    color: var(--text);
}
#searchBy::before {
    content: attr(data-label);
    position: absolute;
    left: 10px;
    color: var(--text-muted);
    pointer-events: none;
}
.controls {
    position: sticky;
    top: 0;
    z-index: 100;
    background: var(--bg);
    padding: 12px 16px;
    border-bottom: 1px solid var(--card-bg);
    text-align: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 12px;
}
.controls input[type="text"] {
    padding: 10px;
    font-size: 16px;
    width: 100%;
    max-width: 300px;
    border: 2px solid var(--accent);
    border-radius: 6px;
    background-color: var(--card-bg);
    color: var(--text);
}
.controls .search-line {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 8px;
}
.controls label {
    font-size: 14px;
    color: var(--text-muted);
    margin-left: 4px;
}
.controls .inline-group {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: center;
    margin-top: 8px;
}
ul {
    list-style-type: none;
    padding: 16px;
    margin: 0 auto;
    max-width: var(--card-width);
}
li {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 12px;
    background-color: var(--card-bg);
    margin-bottom: 14px;
    border-radius: 6px;
    border: 2px solid var(--accent);
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
.result-left {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-shrink: 0;
    width: 220px;
}
.result-name {
    font-weight: bold;
    font-size: 18px;
    color: var(--accent);
    margin-bottom: 6px;
    text-align: center;
}
.result-left img {
    border-radius: 6px;
    max-width: 128px;
    height: auto;
    object-fit: contain;
    display: block;
}
.result-right {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    text-align: center;
    width: 100%;
    justify-content: center;
}
.result-right .section-header {
    font-weight: 700;
    font-size: 14px;
    color: var(--accent);
    text-align: center;
    margin: 4px 0;
}
.result-right span.pill {
    background: var(--bg);
    border: 2px solid var(--accent);
    border-radius: 20px;
    padding: 3px 10px;
    font-size: 14px;
    color: var(--accent);
    font-weight: normal;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}
.inline-wrap {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex-wrap: wrap;
}
.connector {
    color: var(--accent);
    font-weight: 600;
    font-size: 13px;
    margin: 0 6px;
    line-height: 1;
}
.arrow {
    display: inline-block;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 10px solid var(--accent);
    margin: 0 8px;
    vertical-align: middle;
}
.inline-wrap .arrow + .arrow {
    display: none;
}
.pill {
    background: var(--bg);
    border: 2px solid var(--accent);
    border-radius: 20px;
    padding: 4px 12px;
    font-size: 14px;
    color: var(--accent);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    line-height: 1.2;
    max-width: 240px;
    word-break: break-word;
}
details {
    margin: 10px 0 20px 0;
    font-size: 12px;
    color: var(--text-muted);
}
details summary {
    cursor: pointer;
    font-weight: bold;
    color: var(--accent);
    text-align: center;
}
.changelog-entry h4 {
    margin: 0 0 4px 0;
    font-size: 14px;
    font-weight: bold;
    color: var(--accent);
}
.changelog-entry {
    background: rgba(255, 192, 15, 0.05);
    border-left: 3px solid var(--accent);
    border-radius: 4px;
    padding: 6px 12px;
    margin: 6px 0;
    text-align: left;
}
@media (max-width: 600px) {
    li {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    .result-left {
        max-width: none;
    }
    .result-right {
        justify-content: center;
        margin-top: 10px;
    }
    .result-right span.pill {
        font-size: 12px;
        padding: 2px 6px;
    }
    .result-right span.arrow {
        border-top: 4px solid transparent;
        border-bottom: 4px solid transparent;
        border-left: 8px solid var(--accent);
        margin: 0 4px;
    }
    .controls {
        flex-direction: column;
    }
}
</style>
</head>
<body>

<div class="container">
    <img src="/assets/CoverImage.png" alt="Fallout 76 C.A.M.P. Item Lookup" style="display: block; margin: 0 auto; max-width: 100%; height: auto;">
    <div class="meta">
        <p style="color: var(--text-muted); font-size: 14px;">
            Made by MrsBlobby | 
            <a href="https://mrsblobby.github.io/76Tools.html" style="color: var(--accent); text-decoration:none;">Other tools</a>
        </p>
        <p style="color: var(--text-muted); font-size: 12px;">Last Updated: November 1, 2025</p>
    </div>

    <details>
        <summary>Version History</summary>
        <div class="changelog-entry">
            <h4>v2.3.1</h4>
            <ul><li>Fixed issue that caused crops to not have preview images</li></ul>
        </div>
        <div class="changelog-entry">
            <h4>v2.3</h4>
            <ul><li>Results are now displayed in pages of up to 50 entries in an effort to optimize performance</li></ul>
        </div>
        <!-- More changelog entries... -->
    </details>
</div>

<div class="controls">
    <div class="search-line">
        <input type="text" id="searchBox" placeholder="Enter item name..." autofocus>
        <select id="searchBy" style="margin-left: 8px;">
            <option disabled selected></option>
            <option value="name" selected>Item Name</option>
            <option value="book">Plan Name</option>
            <option value="entm">Entitlement Name</option>
        </select>
    </div>
    <div class="inline-group">
        <input type="checkbox" id="toggleImages" checked>
        <label for="toggleImages">Show Images</label>
        <span class="separator"></span>
        <label for="sortMode" style="color: var(--text-muted); font-size: 14px; margin-left: 16px;">Sort By:</label>
        <select id="sortMode">
            <option value="camp-top" selected>Workshop Menu ▼</option>
            <option value="camp-bottom">Workshop Menu ▲</option>
            <option value="az">Alphabetical ▼</option>
            <option value="za">Alphabetical ▲</option>
            <option value="old-new">Oldest</option>
            <option value="new-old">Newest</option>
        </select>
    </div>
</div>

<ul id="results"></ul>
<div id="pagination" style="text-align:center; margin: 16px 0;"></div>

<script>
fetch('final_workshop_db.json')
.then(response => response.json())
.then(db => {
    const searchBox = document.getElementById('searchBox');
    const searchBy = document.getElementById('searchBy');
    const results = document.getElementById('results');
    const toggleImages = document.getElementById('toggleImages');
    const sortMode = document.getElementById('sortMode');
    const pagination = document.getElementById('pagination');
    let currentPage = 1;
    const itemsPerPage = 50;
    let lastQuery = '';

    function updateSearchByLabel() {
        const selectedIndex = searchBy.selectedIndex;
        if (selectedIndex > 0) {
            const selectedText = searchBy.options[selectedIndex].text;
            searchBy.options[0].text = `Search By: ${selectedText}`;
            searchBy.selectedIndex = 0;
        }
    }
    updateSearchByLabel();
    searchBy.addEventListener('change', () => {
        updateSearchByLabel();
        currentPage = 1;
        renderResults(searchBox.value.toLowerCase());
    });

    const CategoryIcons = {
      'Quest': '/assets/MainCategory-QuestsIcon.svg',
      'Objectives': '/assets/MainCategory-QuestsIcon.svg',
      'Wallpapers': '/assets/MainCategory-WallpapersIcon.svg',
      'C.A.M.P. Pieces': '/assets/MainCategory-CAMPPiecesIcon.svg',
      'Foundations': '/assets/SubCategory-FoundationsIcon.png',
      'Decorations': '/assets/MainCategory-DecorationsIcon.svg',
      'Defense': '/assets/MainCategory-DefensesIcon.svg',
      'Dwellers': '/assets/MainCategory-DwellersIcon.svg',
      'Furniture': '/assets/MainCategory-FurnitureIcon.svg',
      'Lights': '/assets/MainCategory-LightsIcon.svg',
      'Power': '/assets/MainCategory-PowerIcon.svg',
      'Resources': '/assets/MainCategory-ResourcesIcon.svg',
      'Storage': '/assets/MainCategory-StorageIcon.svg',
      'Utility': '/assets/MainCategory-UtilityIcon.svg',
      'Wall Decor': '/assets/MainCategory-WallDecorIcon.svg',
      'Structure': '/assets/MainCategory-StructureIcon.svg',
      'Porches': '/assets/SubCategory-PorchesIcon.png',
      'Floors':'/assets/SubCategory-FloorsIcon.png',
      'Walls': '/assets/SubCategory-WallsIcon.png',
      'Roofs': '/assets/SubCategory-RoofsIcon.png',
      'Stairs': '/assets/SubCategory-StairsIcon.png',
      'Shelters': '/assets/SubCategory-SheltersIcon.png',
      'Doors': '/assets/SubCategory-DoorsIcon.png',
      'Columns': '/assets/SubCategory-ColumnsIcon.png',
      'Fences': '/assets/SubCategory-FencesIcon.png',
      'Barricades': '/assets/SubCategory-BarricadeIcon.png',
      'Traps': '/assets/SubCategory-TrapsIcon.png',
      'Turrets': '/assets/SubCategory-TurretsIcon.png',
      'Generators': '/assets/SubCategory-GeneratorsIcon.png',
      'Power Connectors': '/assets/SubCategory-PowerConnectorsIcon.png',
      'Candles': '/assets/SubCategory-CandleIcon.png',
      'Ceiling Lights': '/assets/SubCategory-CeilingLightsIcon.png',
      'Fire': '/assets/SubCategory-FireIcon.png',
      'Lamps': '/assets/SubCategory-LampsIcon.svg',
      'Wall Lights': '/assets/SubCategory-WallLightsIcon.png',
      'Crafting': '/assets/SubCategory-CraftingIcon.png',
      'Collectors': '/assets/SubCategory-CollectorsIcon.png',
      'Food': '/assets/SubCategory-FoodIcon.png',
      'Producers': '/assets/SubCategory-ProducersIcon.png',
      'Water': '/assets/SubCategory-WaterIcon.png',
      'Instruments': '/assets/SubCategory-InstrumentsIcon.png',
      'Player Buffs': '/assets/SubCategory-PlayerBuffsIcon.png',
      'Services': '/assets/SubCategory-ServicesIcon.png',
      'Vending Machines': '/assets/SubCategory-VendingMachinesIcon.png',
      'Appliances': '/assets/SubCategory-AppliancesIcon.png',
      'Beds': '/assets/SubCategory-BedsIcon.png',
      'Electronics': '/assets/SubCategory-ElectronicsIcon.png',
      'Seating': '/assets/SubCategory-SeatingIcon.png',
      'Shelves': '/assets/SubCategory-ShelvesIcon.png',
      'Surfaces': '/assets/SubCategory-SurfacesIcon.png',
      'Balloons': '/assets/SubCategory-BalloonsIcon.png',
      'Clutter': '/assets/SubCategory-ClutterIcon.png',
      'Crockery': '/assets/SubCategory-CrockeryIcon.png',
      'Entertainment': '/assets/SubCategory-EntertainmentIcon.png',
      'Fauna': '/assets/SubCategory-FaunaIcon.png',
      'Lawn & Garden': '/assets/SubCategory-Lawn&GardenIcon.png',
      'Novelties': '/assets/SubCategory-NoveltiesIcon.png',
      'Outdoor': '/assets/SubCategory-OutdoorIcon.png',
      'Rugs': '/assets/SubCategory-RugsIcon.png',
      'Signs': '/assets/SubCategory-SignsIcon.png',
      'Statues': '/assets/SubCategory-StatuesIcon.png',
      'Taxidermy': '/assets/SubCategory-TaxidermyIcon.png',
      'Toys': '/assets/SubCategory-ToysIcon.png',
      'Vehicles': '/assets/SubCategory-VehiclesIcon.png',
      'Accents': '/assets/SubCategory-AccentsIcon.png',
      'Ceiling': '/assets/SubCategory-CeilingIcon.png',
      'Holiday': '/assets/SubCategory-HolidayIcon.png',
      'Mounted': '/assets/SubCategory-MountedIcon.png',
      'Tapestry': '/assets/SubCategory-TapestryIcon.png',
      'Wall Art': '/assets/SubCategory-WallArtIcon.svg',
      'Wall Letters': '/assets/SubCategory-WallLettersIcon.png',
      'Window': '/assets/SubCategory-WindowIcon.png',
      'Additional Storage': '/assets/SubCategory-AdditionalStorageIcon.svg',
      'Displays': '/assets/SubCategory-DisplaysIcon.png',
      'Stash Boxes': '/assets/SubCategory-StashBoxesIcon.png',
      'Farm': '/assets/SubCategory-FarmIcon.png',
      'Frontier': '/assets/SubCategory-FrontierIcon.png',
      'Industrial': '/assets/SubCategory-IndustrialIcon.png',
      'Military': '/assets/SubCategory-MilitaryIcon.png',
      'Modern': '/assets/SubCategory-ModernIcon.png',
      'Retail': '/assets/SubCategory-RetailIcon.png',
      'Rustic': '/assets/SubCategory-RusticIcon.png',
      'Scavenger': '/assets/SubCategory-ScavengerIcon.png',
      'Allies': '/assets/SubCategory-AlliesIcon.svg',
      'Pets': '/assets/SubCategory-PetsIcon.png',
      'Pet Furniture': '/assets/SubCategory-PetFurnitureIcon.png'
    };

    function sortItems(items) {
        const mode = sortMode.value;
        if (mode === 'camp-bottom') return [...items].reverse();
        if (mode === 'new-old') return [...items].sort((a,b) => (b.CNAM_FormID||'').localeCompare(a.CNAM_FormID||''));
        if (mode === 'old-new') return [...items].sort((a,b) => (a.CNAM_FormID||'').localeCompare(b.CNAM_FormID||''));
        if (mode === 'az') return [...items].sort((a,b) => (a.Name||'').localeCompare(b.Name||''));
        if (mode === 'za') return [...items].sort((a,b) => (b.Name||'').localeCompare(a.Name||''));
        return items;
    }

    function paginate(items) {
        const start = (currentPage-1)*itemsPerPage;
        return items.slice(start, start+itemsPerPage);
    }

    function renderPagination(totalItems) {
        const totalPages = Math.ceil(totalItems/itemsPerPage);
        pagination.innerHTML = '';
        if (totalPages <= 1) return;
        const prevBtn = document.createElement('button');
        prevBtn.textContent = '← Prev';
        prevBtn.disabled = currentPage === 1;
        prevBtn.onclick = () => { currentPage--; renderResults(lastQuery); };
        pagination.appendChild(prevBtn);
        for (let i=1; i<=totalPages; i++){
            if (i===1 || i===totalPages || Math.abs(i-currentPage)<=2){
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.style.background = i===currentPage?'var(--accent)':'var(--card-bg)';
                btn.style.color = i===currentPage?'black':'var(--text)';
                btn.onclick = ()=>{ currentPage=i; renderResults(lastQuery); };
                pagination.appendChild(btn);
            } else if (Math.abs(i-currentPage)===3){
                const span = document.createElement('span');
                span.textContent='...';
                pagination.appendChild(span);
            }
        }
        const nextBtn=document.createElement('button');
        nextBtn.textContent='Next →';
        nextBtn.disabled=currentPage===totalPages;
        nextBtn.onclick=()=>{ currentPage++; renderResults(lastQuery); };
        pagination.appendChild(nextBtn);
    }

    function renderResults(query){
        const normalizedQuery=query.toLowerCase();
        const queryChanged = normalizedQuery!==lastQuery;
        lastQuery = normalizedQuery;
        const filtered = db.filter(item=>{
            if(!normalizedQuery) return true;
            const type=searchBy.value;
            if(type==='name') return item.Name && item.Name.toLowerCase().includes(normalizedQuery);
            if(type==='book') return item.BOOK_FULL && item.BOOK_FULL.toLowerCase().includes(normalizedQuery);
            if(type==='entm') return item.ENTM_FULL && item.ENTM_FULL.toLowerCase().includes(normalizedQuery);
        });
        const sorted=sortItems(filtered);
        const totalPages=Math.ceil(sorted.length/itemsPerPage);
        if(queryChanged || currentPage>totalPages) currentPage=1;
        const paged=paginate(sorted);
        results.innerHTML='';
        if(!paged.length){
            results.innerHTML='<li>No matches found</li>';
            pagination.innerHTML='';
            return;
        }
        paged.forEach(r=>{
            if((r.SubCategory||'').trim().toLowerCase()==='testsubcat') return;
            const li=document.createElement('li');
            const left=document.createElement('div');
            left.className='result-left';
            const name=document.createElement('div');
            name.className='result-name';
            name.textContent=r.Name||'';
            left.appendChild(name);
            if(toggleImages.checked && r.Image){
                const img=document.createElement('img');
                img.src=r.Image;
                img.alt=r.Name;
                left.appendChild(img);
            }
            const right=document.createElement('div');
            right.className='result-right';
            if(r.Category){
                const catDiv=document.createElement('div');
                catDiv.className='inline-wrap';
                if(CategoryIcons[r.Category]){
                    const img=document.createElement('img');
                    img.src=CategoryIcons[r.Category];
                    img.style.width='24px';
                    img.style.height='24px';
                    img.style.marginRight='6px';
                    catDiv.appendChild(img);
                }
                const span=document.createElement('span');
                span.className='pill';
                span.textContent=r.Category;
                catDiv.appendChild(span);
                right.appendChild(catDiv);
            }
            if(r.SubCategory){
                const sub=document.createElement('span');
                sub.className='pill';
                sub.textContent=r.SubCategory;
                right.appendChild(sub);
            }
            if(r.CNAM_FormID){
                const fid=document.createElement('span');
                fid.className='pill';
                fid.textContent='FormID: '+r.CNAM_FormID;
                right.appendChild(fid);
            }
            li.appendChild(left);
            li.appendChild(right);
            results.appendChild(li);
        });
        renderPagination(filtered.length);
    }

    searchBox.addEventListener('input', ()=>{currentPage=1;renderResults(searchBox.value);});
    toggleImages.addEventListener('change', ()=>renderResults(searchBox.value));
    sortMode.addEventListener('change', ()=>renderResults(searchBox.value));

    renderResults('');
});
</script>
</body>
</html>
